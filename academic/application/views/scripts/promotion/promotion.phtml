<style>    @media print {        table td:nth-child(5)        {            display:none;        }        table th:nth-child(5)        {            display:none;        }        *{            visibility:hidden;        }        table,th,td         {            visibility:visible;                            }         .title1        {            visibility:visible;         }    }</style><link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script><div class="right_col">    <?php if ($this->type) { ?>        <div class="padding-md">            <div class="row">                <div class="col-md-12 " >                    <h3 class="page-title txt-color-blueDark" >                        <div><i class="fa fa-eye"> Promotion Rules:</i></div>                    </h3>                    <div class="panel panel-default">                        <form class="no-margin" id="formValidate1" action="<?php echo $this->form->getAction() ?>" method="post" data-validate="parsley" >                            <div class="panel-body">                                <!--<div class="row">                                    <div class="pull-right col-xs-4 col-sm-4 col-md-4 col-lg-4">                                        <div class="pull-right"><span class="pull-left">                                            <small><b>Promotion Type</b></small></span>&nbsp;                                            <input type="checkbox" id="Prom_type"   <?=$this->result['seperate_status']?"checked":"";?> data-toggle="toggle" data-size="sm">                                            <input type="hidden" name="prom_type" value="<?=$this->result['seperate_status']?1:$this->result['seperate_status'];?>" />                                        </div>                                </div>                            </div>-->                                <div class="row">																																 <div class="col-sm-3">                                        <div class="form-group" >                                            <label  class="control-label" >Degree                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->degree_id; ?>                                        </div>                                 </div>                                <div class="col-sm-3">                                        <div class="form-group" >                                            <label  class="control-label" >Academic year                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->academic_year_list; ?>                                        </div>                                </div>                                <div class="col-sm-3">                                        <div class="form-group" >                                            <label  class="control-label" >Session                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->session; ?>                                        </div>                                 </div>                                   																	<div class="col-sm-3">                                        <div class="form-group" >                                            <label  class="control-label" >Batch                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->academic_id; ?>                                        </div>                                </div>																	                                    <?php echo $this->form->csrftoken; ?>									                                    <div class="col-sm-3" id="toYear">                                        <div class="form-group" >                                            <label  class="control-label" >To Year                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->year_id; ?>                                        </div>                                    </div>									<div class="col-sm-3" id="frmyear">                                    <div class="form-group" >                                     <label  class="control-label" >From Year                                     <span class="asterisk">*</span></label>                                     <?php echo $this->form->nextyear; ?>                                    </div>                                    </div>                                                                                                          <div class="col-sm-3" id="tosemester">                                        <div class="form-group">                                            <label  class="control-label" >To Semester                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->semester; ?>                                        </div>                                    </div>									<div class="col-sm-3" id="nextsemester">                                        <div class="form-group">                                            <label  class="control-label" >To Semester                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->nextSem; ?>                                        </div>                                    </div>																											<div class="col-sm-3">                                        <div class="form-group" >                                            <label  class="control-label" >Fees Dues                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->fees; ?>                                        </div>                                    </div>                           <!-- <div class="col-sm-6 employee_class">                                <div class="form-group">                                 <label  class="control-label" >Add term                                                <span class="asterisk">*</span><small>(to count Pass paper)</small></label>                                    <?php echo $this->form->cmn_terms; ?>                                </div>                            </div>-->                                                                  </div>                                <div class="row">                                    <!--<div class="col-sm-4">                                        <div class="form-group employee_class">                                            <label  class="control-label" >Passed in No. of papers                                                <span class="asterisk">*</span></label>                                            <?php //echo $this->form->semester_paper_count; ?>                                        </div>                                    </div>-->                                    <!--<div class="col-sm-4">                                        <div class="form-group ">                                            <label  class="control-label" >Must appear in no. of papers                                                <span class="asterisk">*</span></label>                                            <?php //echo $this->form->appeared_paper; ?>                                        </div>                                    </div>-->                                    <!--<div class="col-sm-4">                                        <div class="form-group">                                            <label  class="control-label" >Appear in Components (paper)                                                <span class="asterisk">*</span></label>                                            <?php echo $this->form->component_paper; ?>                                        </div>                                    </div>-->                                </div>                            </div>                            <div>                                <div class="panel-footer">									                                    <div class="row">                                        <div class="col-sm-7 col-sm-offset-5">                                            <?php if ($this->type == 'add') { ?>                                                                                                                                                                                 <div style="float:left;margin-right:2px;">                                                    <button class="btn btn-primary submit">Submit</button>                                                </div>                                                <div style="float:left;padding:0px 10px;">                                                    <button type="reset" class="btn btn-danger btn-default">Reset</button>                                                </div>                                            <?php } else { ?>                                                                                                                               <div style="float:left;">                                                    <button class="btn btn-primary submit">Update</button>                                                </div>                                                <div style="float:left;">                                                    <a class="btn btn-primary" href="<?php echo $this->mainconfig['host']; ?>promotion/index/">Back</a>                                                </div>                                            <?php } ?>                                        </div>                                    </div>                                </div>                            </div>                        </form>                    </div><!-- /panel -->                </div><!-- /.col-->				            </div><!-- /.row -->        </div><!-- /.padding-md -->	    <?php } else { ?>        <?php        if (count($this->messages)) {            foreach ($this->messages as $message) {                ?>                <div class="alert <?php echo $_SESSION['message_class']; ?> ">                    <a type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</a>                    <?php echo $this->escape($message); ?>                </div>                <?php            }        }        ?>        <!-- widget grid -->        <div class="">            <div class="">                <div class="row">                    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">                        <h3 class="page-title txt-color-blueDark">                            <i class="fa fa-bars"> Promotion Rule </i>                        </h3>                    </div>                    <div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">	                         <a class="btn btn-primary pull-right" style="margin-top: 25px;" href="<?php echo $this->mainconfig['host']; ?>promotion/promotion/type/add">Add </a>                    </div>                </div>                <div class="x_panel">                    <div class="x_title">                        <h2 class="title1">Promotion Structure</h2>                        <ul class="nav navbar-right panel_toolbox">                            <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>                            </li>                            <li class="dropdown">                                <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>                            </li>                            <li><a class=""><i class="fa fa-close"></i></a>                            </li>                        </ul>                        <div class="clearfix"></div>                    </div>                    <div class="x_content">                        <div class="padding-md clearfix">                            <table class="table table-striped table-bordered mb30 jambo_table bulk_action" id="datatable-responsive">                                <thead>                                    <tr>                                        <th style="text-align:center;">S. No.</th>	                                        <th style="text-align:center;">Degree</th>                                        <th style="text-align:center;">Academic Year</th>                                        <th style="text-align:center;">Session</th>                                        <th style="text-align:center;">Semester </th>										<th style="text-align:center;">Year </th>										<th style="text-align:center">Fees Dues</th>                                        <th class="no_print" style="text-align:center">Edit | Delete</th>                                    </tr>                                </thead>                                <tbody style="text-align:center;">                                    <?php                                    $i = 1;                                    $pagination_tr = '';                                    if (count($this->paginator) != 0) {                                        foreach ($this->paginator as $results) {                                            //print_r($results);die;                                            ?>                                            <tr>                                                <td><?php                                                    echo $i;                                                    $i++;                                                    ?>                                                </td>	                                                <td><?php echo $results['degree_name']; ?></td>                                                <td><?php echo $results['academic_year']; ?></td>                                                <td><?php echo $results['session']; ?></td>                                                <td><? if($results['semester']) echo $results['semester'] . " -to- " . $results['nextSem']; ?></td>												<td><? if($results['year_id'])  echo $results['year_id'] . " year -to- " . $results['nextyear'] .' year'; ?></td>                                                <td><?php echo $results['fees']; ?></td>                                                <td><a href="<?php echo $this->mainconfig['host']; ?>promotion/promotion/type/edit/id/<?php echo $results['id']; ?>" class="edit" title="Edit"><span class="fa fa-edit fa-lg"></span></a></td>                                                <!--<td><a href="<?php echo $this->mainconfig['host']; ?>promotion/index/type/edit/id/<?php echo $results['id']; ?>" class="edit" title="Edit"><span class="fa fa-edit fa-lg"></span></a>&nbsp; | &nbsp;  <a href="<?php echo $this->mainconfig['host']; ?>promotion/index/type/delete/id/<?php echo $results['id']; ?>" onclick="return ConfirmDelete();" title="Delete" class="delete"> <span class="fa fa-trash-o fa-lg"></span> </a></td>-->                                            </tr>                                                        <?php                                        }                                        $pagination_tr = $this->paginationControl($this->paginator, 'Sliding', 'pagination.phtml');                                    }                                    ?>                                </tbody>                            </table>                            <?php // echo $pagination_tr; ?>                        </div><!-- /.padding-md -->                    </div><!-- /panel -->                </div>            </div>        </div><!-- /.padding-md -->		    <?php } ?></div><script type="text/javascript">$(document).ready(function(){      if($('#Prom_type'). prop('checked')){           $('input[name="prom_type"]').val(1);           $(".employee_class").show();             $("#seprate").hide();       }       else       {          $('input[name="prom_type"]').val(0);            $(".employee_class").hide();            $("#seprate").show();       }}); $("body").on("change",'#Prom_type',function(){       var isVal = $(this).val();       if($('#Prom_type'). prop('checked')){           $('input[name="prom_type"]').val(1);            $(".employee_class").show();             $("#seprate").hide();       }       else       {           $('input[name="prom_type"]').val(0);           $(".employee_class").hide();            $("#seprate").show();       }    });    $("#semester option[value='t6']").hide();    function ConfirmDelete()    {        var x = confirm("Are you sure you want to delete?");        if (x)            return true;        else            return false;    }    //Developed by kedar to get next Semester 25 Sept. 2019    $(window).load(function () {        var semester_id = $('#semester>option:selected').index();		  var year_id = $('#year_id>option:selected').index();        //alert(year_id);        if (semester_id) {						$("#tosemester").show();		      $("#nextsemester").show();            $('#semester>option').each(function (e) {               if (semester_id == (e)) {                    $('#nextSem').empty();                   $('#nextSem').html("<option value='" + $(this).next().val() + "'>" + $(this).next().text() + "</option>");                }            });        }										if (year_id) {						$("#toYear").show();		       $("#frmyear").show();		  $('#semester>option').each(function (e) {               if (year_id == (e)) {                    $('#nextyear').empty();                   $('#nextyear').html("<option value='" + $(this).next().val() + "'>" + $(this).next().text() + "</option>");                }            });        }    });    $(document).on('change', '#semester', function () {        var semester_id = $('#semester>option:selected').index();        //alert(semester_id);        $('#semester>option').each(function (e) {            if (semester_id == (e)) {                $('#nextSem').empty();                $('#nextSem').html("<option value='" + $(this).next().val() + "'>" + $(this).next().text() + "</option>");            }        });    });			$(document).on('change', '#year_id', function () {        var semester_id = $('#year_id>option:selected').index();        //alert(semester_id);        $('#year_id>option').each(function (e) {            if (semester_id == (e)) {                $('#nextyear').empty();                $('#nextyear').html("<option value='" + $(this).next().val() + "'>" + $(this).next().text() + "</option>");            }        });    });    //End    //Number Validation on percentage    $("#attendance").keyup(function () {        var input_attendance = $("#attendance").val();        //alert(input_attendance);        if (!isNaN(input_attendance))        {            if (input_attendance.length < 3) {                $('#att_error').text(" ");                return true;            } else {                $('#att_error').text("Maximum two digits allowed!");            }        } else {            $('#att_error').text("Please enter only numeric value");            $("#attendance").val("");        }    });    //Credit value validation    $("#credit_score").keyup(function () {        var input_score = $("#credit_score").val();        //alert(input_attendance);        if (!isNaN(input_score))        {            if (input_score.length < 3) {                $('#credit_error').text(" ");                return true;            } else {                $('#credit_error').text("Maximum two digits allowed!");            }        } else {            $('#credit_error').text("Please enter only numeric value");            $("#credit_score").val("");        }    });    $("#scholarship_fee_wavier").focusout(function (e) {        var x = $("#scholarship_fee_wavier").val();        var i = x.indexOf('%');        if (parseInt(x.substr(0, i)) > 100) {            alert('your Value should not exceed 100%');            $(".submit").css('display', 'none');        } else        {            $(".submit").css('display', 'initial');        }    });    $(document).on('change', '#semester', function () {        var cmn_terms = $('#semester').val();        var degree_id = $('#degree_id').val();        var session = $('#session').val();        if (degree_id) {            $.ajax({                type: "POST",                url: '<?php echo $this->mainconfig['host'] . 'promotion/ajax-get-preexist-promotion-data'; ?>',                data: {degree_id: degree_id, cmn_terms: cmn_terms,session:session}            }).done(function (data) {                if (data == 1) {                    alert('Promotion Rule Already Defined.');                    $('#degree_id').val('');                    $('#semester').val('');                }            });        }    });    $('body').on('change', '#academic_year_list', function () {        $('#department').removeAttr('disabled');        var year_id = $('#academic_year_list').val();        if (year_id) {                        $.ajax({                type: "POST",                url: '<?php echo $this->mainconfig['host'] . 'master/ajax-Get-Session'; ?>',                data: {year_id: year_id}            }).done(function (data) {                $('#session').empty('');                $('#session').html(data);                $('#session').trigger("chosen:updated");            });        }    });			$('body').on('change', '#session', function () {               var sessionid = $('#session').val();        if (sessionid) {                        $.ajax({                type: "POST",                url: '<?php echo $this->mainconfig['host'] . 'master/ajax-get-batch'; ?>',                data: {session: sessionid}            }).done(function (data) {                $('#academic_id').empty('');                $('#academic_id').html(data);                $('#academic_id').trigger("chosen:updated");            });        }    });    //Dsiable Editing In Core Course Learning Date : 25 Oct 2021    let type='<?= $this->type ?>';    if(type == 'edit'){        //disable the field        //$("#degree_id").prop( "disabled", true );         //$("#semester").prop( "disabled", true );             //right before the form submits, we re-enable the fields, to make them submit.        $( "#formValidate1" ).submit(function( event ) {      //  $("#degree_id").prop( "disabled", false );       // $("#semester").prop( "disabled", false );    });       }    $('#cmn_terms').select2();    //End             var count = $('#count_val').val(); //Addmore script code	 	$(document).ready(function(){	$("#toYear").hide();		$("#frmyear").hide();		$("#tosemester").hide();		$("#nextsemester").hide();$('body').on('change', '#academic_id', function () {        var batch_id = $(this).val();        if (batch_id) {            $('.load-box').css('display', 'block');            $.ajax({                type: "POST",                url: '<?php echo $this->mainconfig['host'] . 'master/ajax-get-yearly-record'; ?>',                data: {batch_id: batch_id}            }).done(function (data) {								//alert(data);				if(data==='yearly') {				$("#toYear").show();		            $("#frmyear").show();	                $("#tosemester").hide();		             $("#nextsemester").hide();								}				else {					$("#toYear").hide();		            $("#frmyear").hide();	                $("#tosemester").show();		             $("#nextsemester").show();						}                           });        }    });		});   </script>