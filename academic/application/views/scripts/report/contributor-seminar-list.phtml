<style>
   
    #refresh{
        cursor:pointer;
    }
    
    
</style>
<link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>

<div class="right_col bdoypayment">
    <div class="load-box" style="z-index:998">
    <img src="<?php echo $this->mainconfig['publicpath']; ?>/images/loader.gif" width='200px'  class="loder_img1" />
</div>
    
     <?php if($this->type){
       //  print_r($this->row);
         ?> 
     <div class="row">
                    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-5">
                        <h3 class="page-title txt-color-blueDark">
                            <i class="fa fa-bars"> Contribution Details</i>

                        </h3>
                    </div>
                </div>
 <form method="post" action="" enctype="multipart/form-data">
                    <div class="row">
                     
                                <div class=" col-lg-3 ">
                                    <div class="form-group">
                                        <label>Name</label>
                                        <input type="text" name="name" id="name" class="form-control alumin" value="<?=$this->row['name']?>" >
                                </div>
                                </div>
                             
                                  <div class="col-md-3">
                                    <div class="form-group">
                                        <label>Mobile No  ( Whatsapp Number Please)</label>
                                        <input type="text" name="mobile" id="mobile" class="form-control alumin" value="<?=$this->row['mobile']?>">
                                </div>
                                </div>
                                  <div class="col-md-3">
                                    <div class="form-group">
                                        <label>Email-Id</label>
                                        <input type="text" name="email_id" id="email_id" class="form-control alumin" value="<?=$this->row['email_id']?>" >
                                </div>
                                </div>
                           
                                  <div class="col-md-3">
                                    <div class="form-group">
                                        <label>City</label>
                                        <input type="text" name="city" id="city" class="form-control alumin" value="<?=$this->row['city']?>" >
                                </div>
                                </div>
                                   <div class="col-md-3">
                                    <div class="form-group">
                                        <label>State</label>
                                        <input type="text" name="state" id="state" class="form-control alumin" value="<?=$this->row['state']?>">
                                </div>
                                </div>
                                  <div class="col-md-3">
                                    <div class="form-group">
                                        <label>Pin Code / Zip</label>
                                        <input type="text" name="pincode" id="pincode" class="form-control alumin" value="<?=$this->row['pincode']?>" >
                                </div>
                                </div>
                                   <div class="col-md-3">
                                    <div class="form-group">
                                        <label>Country</label>
                                        <input type="text" name="country" id="country" class="form-control alumin" value="<?=$this->row['country']?>">
                                </div>
                                </div>
                             
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label>Payment Mode</label>
                                        <select name="pay_mode" id="pay_mode" class="form-control alumin">
                                            <option value="">Select</option>
                                            <option value="Online" <?php if($this->row['pay_mode']=='Online') { echo "selected";} ?>>Online</option>
                                            <option value="NEFT" <?php if($this->row['pay_mode']=='NEFT') { echo "selected";} ?>>NEFT</option>
                                            <option value="RTGS" <?php if($this->row['pay_mode']=='RTGS') { echo "selected";} ?>>RTGS</option>
                                        </select>
                                        
                                </div>
                                </div>
                                  <div class="col-md-3">
                                    <div class="form-group">
                                        <label>Contribution Amount</label>
                                        <input type="number" name="contri_amt" id="contri_amt" class="form-control alumin" value="<?=$this->row['contri_amt']?>"  >
                                </div>
                                </div>
                           <div class="row" >
                                   <div class="col-md-3" id="payment" style="display: none;" >
                                    <div class="form-group">
                                        <label>Bank Name</label>
                                        <input type="text" name="bank_name" id="bank_name" class="form-control alumin" value="<?=$this->row['bank_name']?>" >
                                </div>
                                </div>
                                   <div class="col-md-3" id="payment1" style="display: none;">
                                    <div class="form-group">
                                        <label>Transaction ID</label>
                                        <input type="text" name="mmp_txn" id="transaction_id" class="form-control alumin" value="<?=$this->row['mmp_txn']?>">
                                </div>
                                </div>
                                  <div class="col-md-3" id="payment2" style="display: none;" >
                                    <div class="form-group">
                                        <label>UTR No.</label>
                                        <input type="text" name="bank_txn" id="utr_no" class="form-control alumin" value="<?=$this->row['bank_txn']?>">
                                </div>
                                </div>
                                  <div class="col-md-3" id="payment3" style="display: none;">
                                    <div class="form-group">
                                        <label>Transaction Date</label>
                                        <input type="date" name="date" id="adhar_doc" class="form-control alumin" value="<?=$this->row['date']?>" >
                                </div>
                                </div>
                                <!--  <div class="col-md-3" id="payment4" style="display: none;" >-->
                                <!--    <div class="form-group">-->
                                <!--        <label> Document (Allow Only .jpg/.png/.pdf)</label>-->
                                <!--        <input type="file" name="document" id="document" class="form-control alumin"  >-->
                                <!--</div>-->
                                <!--</div>-->
                                 <?php if($this->row['document']) {?>
                                <div class="col-md-2" id="payment5" style="display: none;" >
                                    <div class="form-group">
                                        <label> Download Document </label>
                                        <ul><li><a href="<?php echo $this->mainconfig['publicpath'].'alumini/doc/'.$this->row['document'] ?>" download="<?php echo $this->row['document'] ?>"><?=$this->row['document']?></a></li></ul>
                                        
                                </div>
                                </div>
                                <?php } ?>
                                  <?php if($this->row['pan_card']) {?>
                                 <div class="col-md-2" id="pancard" style="display: none;" >
                                    <div class="form-group">
                                        <label> Download Pancard </label>
                                        <ul><li><a href="<?php echo $this->mainconfig['publicpath'].'alumini/doc/'.$this->row['pan_card'] ?>" download="<?php echo $this->row['pan_card'] ?>"><?=$this->row['pan_card']?></a></li></ul>
                                        
                                </div>
                                </div>
                                <?php  }?>
                                 <?php if($this->row['adhar_doc']) {?>
                                 <div class="col-md-2" id="adhardoc" style="display: none;" >
                                    <div class="form-group">
                                        <label> Download Aadhar card </label>
                                        <ul><li><a href="<?php echo $this->mainconfig['publicpath'].'alumini/doc/'.$this->row['adhar_doc'] ?>" download="<?php echo $this->row['adhar_doc'] ?>"><?=$this->row['adhar_doc']?></a></li></ul>
                                        
                                </div>
                                </div>
                                <?php } ?>
                                </div>        
                    </div>
                    <div class="row"><input type="submit" name="" class="btn btn-info"></div>
                              </form>

   <?php } else { ?>    
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="row">
                    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-5">
                        <h3 class="page-title txt-color-blueDark">
                            <i class="fa fa-bars"> Contribution Details</i>

                        </h3>
                    </div>
                </div>
                
                
<!--                <div class="row">
                  <div class="pull-right col-xs-2 col-sm-2 col-md-2 col-lg-2"><div class="pull-right"><span class="pull-left" style="margin-right:.3em;"><small><b>Attendance</b></small></span><input type="checkbox" id="attend" value="0" data-toggle="toggle" data-size="sm"></div></div>
            </div>
                <div class="row">
                    <div class="pull-right col-xs-2 col-sm-2 col-md-2 col-lg-2"><div class="pull-right"><span class="pull-left" style="margin-right:.3em;"><small><b>Tuition Fee</b></small></span><input type="checkbox" id="pay" value="1"  checked="" data-toggle="toggle" data-size="sm"></div></div>
            </div>-->
                <div class="col-md-12">
                    <div class="col-sm-3 employee_class">
                        <div class="form-group">
                    <label class="control-label">From Date<span class="asterisk">*</span></label>
                        <?php //echo $this->form->academic_year; ?>
                    <input type="date" name="f_date" id="f_date" class="form-control">
                        </div>
                    </div>     
                    <div class="col-sm-3 employee_class">
                        <div class="form-group">
                        <label class="control-label">To Date<span class="asterisk">*</span></label>
                     <?php //echo $this->form->session; ?>
                        <input type="date" name="to_date" id="to_date" class="form-control">
                        </div>
                    </div>
                  <div class="col-sm-3 employee_class">
                        <div class="form-group">
                            <button type="button" id="getRecords" class="btn btn-primary pull-right" style="margin-top:1.5em;z-index:999;" value="0" >Get Records</button>
                        </div>
                   </div>
                   
                   
                <div style="float:left;padding-left:10%;">
                </div>
                </div>
                 <div class="col-md-12">
                   <div class="table-responsive" id="ajaxData"> 
                       <table class="table table-striped table-bordered mb30 jambo_table bulk_action dataTable" id="datatable-responsive" style="height:100%">
                            <thead>
                                <tr>

                                    <th class="no-sort">S.No.</th>
                                    <th> Name</th>
                                    <th>Email ID</th>
                                    <th>Payment Mode</th>
                                    <th>Registration Amount</th>
                                    <th>Payment Status</th>
                                </tr>
                            </thead>
                            <tbody>
                               
                                                <tr>
                                                    <td colspan="9">
                                                        <h2 style="color:red">
                                                            No Records Available.
                                                </h2>
                                            </td>
                                        </tr>
                               

                            </tbody>
                        </table>

                        
                       
                    </div>
                </div>
       
            </div>    
           

        </div>
   <?php } ?>
        </div>
 
 <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->
 <script type="text/javascript">
 
 
 
    $('body').on('click', '#getRecords', function() {
    
    let f_date = $('#f_date').val();
    let to_date = $('#to_date').val();
   
    
    $('.load-box').css('display','block');
    $.ajax({
        type: "POST",
        url: '<?php echo $this->mainconfig['host'] . 'report/ajax-get-contributor-record'; ?>',
        data: {f_date:f_date,to_date:to_date}
    }).done(function (data) {
        $('#ajajxData').empty('');
        $('#ajaxData').html(data);
        $('.load-box').css('display','none');

    });
});
   
    $("#pay_mode").change(function() {
    var pay=$("#pay_mode").val();
    
   // alert(pay);
    if(pay=='NEFT' || pay=='RTGS') {
        $("#payment").css("display", "block");
        $("#payment1").css("display", "block");
        $("#payment2").css("display", "block");
        $("#payment3").css("display", "block");
        $("#payment4").css("display", "block");
        $("#payment5").css("display", "block");
        }
        else {
        $('#payment').css('display','none');
        $('#payment1').css('display','none');
        $('#payment2').css('display','none');
        $('#payment3').css('display','none');
        $('#payment4').css('display','none');
        $("#payment5").css("display", 'none');
        }
    });   
    
    
 var pay1=$("#pay_mode").val();   
  if(pay1=='NEFT' || pay1=='RTGS') {
        $("#payment").css("display", "block");
        $("#payment1").css("display", "block");
        $("#payment2").css("display", "block");
        $("#payment3").css("display", "block");
        $("#payment4").css("display", "block");
         $("#payment5").css("display", "block");
        }
        else {
        $('#payment').css('display','none');
        $('#payment1').css('display','none');
        $('#payment2').css('display','none');
        $('#payment3').css('display','none');
        $('#payment4').css('display','none'); 
        $("#payment5").css("display", 'none');
        }
        
        
        var conamt=   $("#contri_amt").val();
      
       if(conamt>='10000'){
            $("#pancard").css("display", "block");
            $("#adhardoc").css("display", "block");
            
          //  alert(conamt);
       }
       else {
            $("#pancard").css("display", "none");
            $("#adhardoc").css("display", "none");
           
       }
    </script>

