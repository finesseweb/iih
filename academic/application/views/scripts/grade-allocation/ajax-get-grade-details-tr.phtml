<script>        var id = '<?=$this->id?$this->id['tabl_id']:0;?>';//if(id != 0){//$('#fac').hide();//   $('<div class="col-sm-12 text-center"><h4 class="text-danger"><strong>**Published TABULATION REGISTER Cannot be Modified.<br><small class="text-danger"><b>(Note:</b>&nbsp; Course Listed only with Created Evaluation Components.<b>)</b></small></strong></h4></div>').insertBefore('table');//}//else//{//   $('#fac').show(); //}</script><?php$fail_Val = array('D'=>'F','F'=>'F');$item_result = $this->result;$passpercent = $this->passpercent;$acad = $this->acad;$ter = $this->term;$dept_name = $this->dept_name;$dept_desc = $this->dept_desc;$batch_code = $this->batch_desc;//print_r($batch_code);die();$session_model = new Application_Model_Session();$acd_details = new Application_Model_Academic();$deg_details = new Application_Model_Department();$gradeItems = new Application_Model_GradeAllocationItems();$term_details = new Application_Model_TermMaster();$semester_rule = new Application_Model_SemesterRule();$evalItems = new Application_Model_EvaluationComponentsItems();$gradeReportModel = new Application_Model_GradeAllocationReportItems();$exam_model =  new Application_Model_ExamDateModel();$cmn_term = $this->cmnTerms;$examinfo = $exam_model->getRecordByBatchAndTerm($item_result[0]['academic_year_id'],$cmn_term);$examyear = date("F - Y",strtotime($examinfo['examination_month']));$resultdate = date("d-m-Y",strtotime($examinfo['result_publish_date']));$studentMarksDetails = $this->studentMarks;//echo "<pre>";print_r($studentMarksDetails);exit;$session_name = $session_model->getRecord($item_result[0]['session'])['session'];//====Variable Declaration==========//$i = 1;$k = 0;$tot_credit_point = $tot_grade_point = $one_row = $stu_data_pr = $component = $weightage = 0;$EvaluationComponents_model = '';$geData = array();$geWeightage = array();$ct_arr = $weightage_arr = $component_arr = array();$session =0 ;//$examyear= "" ;//======['start printing tabulation register']=======//for ($i = 0; $i < count($item_result); $i++) {    $tot_arr = array();    ?><!--[table head to be aligned into middle]---------->    <style>  /* .table>tbody>tr>td, .table>tbody>tr>th, .table>tfoot>tr>td, .table>tfoot>tr>th, .table>thead>tr>td, .table>thead>tr>th{*//*    font-size:10px !important;*//*    margin:0;*//*    padding:0 !important;*//*    text-align:center !important;*//*    vertical-align:middle !important;*//*}*/.table>tfoot>tr>td, .table>tfoot>tr>th, .table>thead>tr>td, .table>thead>tr>th{    font-size:.73em !important;    margin:0;    padding:0 !important;    text-align:center !important;    vertical-align:middle !important;}.table>tbody>tr>td{    font-size:.83em !important;    margin:0;    padding:0 !important;    text-align:center !important;    vertical-align:middle !important;}    </style>    <div class="box-body table-responsive" >        <div style="overflow-x:scroll" >            <div id='printBox'>            <table class="table table-striped table-bordered mb30 jambo_table bulk_action"  border ='1' id='dataTable'  >                <thead>                    <tr style="padding:0">                        <input type ="hidden" id='tabl_id' value="<?=$this->id?$this->id:0;?>"/>                        <th rowspan="2" class="complex" data-id='hide'>S. No.</th>                        <th rowspan="2" class="complex" data-id='hide'>Name of Participants</th>                        <th rowspan="2" class="complex">Date of Birth</th>                        <th rowspan="2" class="complex" data-id='hide'>Exam Roll No</th>                         <th rowspan="2" class="complex" data-id='hide'>Reg No.</th>                 <input type ="text"  name ="academic_id[]" style="display:none;" value ="<?= $item_result[$i]['academic_year_id']; ?>_<?= $item_result[$i]['term_id']; ?>"/>                <input style="display:none;" type="text" id="dept" value="<?=$dept_name;?> " />                <input style="display:none;" type="text" id="dept_desc" value="<?=$dept_desc;?> " />                <?php                                               /*                 * calling model course_corse_learning                 * if course credit has been created                 * then get the courseType value                  *                  */                  $tabulationitem_model = new Application_Model_TabulationReportItems();                $Corecourselearning_model = new Application_Model_Corecourselearning();                $d_id = $acd_details->getRecord($item_result[$i]['academic_year_id'])['department'];                $degree_id= $deg_details->getRecord($d_id)['degree_id'];                $cmn_term = $term_details->getRecord($item_result[$i]['term_id'])['cmn_terms'];                               // if($d_id=='30'){                //  $details = $semester_rule->checkRow('8', $cmn_term);                // } else {                 $details = $semester_rule->checkRecords($degree_id, $cmn_term,$item_result[$i]['session']);                             //  $details = $semester_rule->checkRow($degree_id, $cmn_term);                // }                $course_type_result = $Corecourselearning_model->getcourseTypeOn($item_result[$i]['academic_year_id'], $item_result[$i]['term_id']);                           if($item_result[$i]['cmn_terms']=='t2' ||  $item_result[$i]['cmn_terms']=='t4'){               $course_type_result11 = $Corecourselearning_model->getcourseTypeOn2($item_result[$i]['academic_year_id'], $item_result[$i]['term_id'],$item_result[$i]['cmn_terms']);                }                             $session = $item_result[$i]['session'];              //-------------------------------------------------------****************------------------------------------------------------------------------------------------------//                     foreach ($course_type_result as $course_type_key => $course_type_val) {//====printing upper head with component==//                     $item_result[$i]['course_id'] = $course_type_val['course_id'];                    ?>                    <th rowspan="2" class="complex" data-id='hide'><?= $course_type_val['ct_name']; ?></th><!--                    <th rowspan="2" class="complex">Course Code</th>-->                    <?php if ($component == 0) { ?>                        <!--<th  style="display:none;">component</th>-->                        <?php $component++;                    } ?>                    <?php                    //====================[getting all the evaluation component]======================================//                    $EvaluationComponents_model = new Application_Model_EvaluationComponents();                    $result = $EvaluationComponents_model->getAllComponentsonTerms(0, 0, $item_result[$i]['course_id']);                     foreach ($result as $k => $val) {                        ?>                       <th class="complex" style='padding: .2em;'><?php echo $val['component_name']; ?></th>                        <th class="complex" style='padding: .2em;'>Rm</th>        <?php } ?>                    <th class="complex" style='padding: 0.2em;'>Total</th>                    <th class="complex" style='padding: 0.2em;' >credit</th>                    <th class="complex" style='padding: 0.2em;' >Grade Letter</th>                    <th class="complex" style='padding: 0.2em;' >Grade Point</th>                    <th class="complex" style='padding: 0.2em;' >Credit Point</th>                    <th class="complex" style='padding: 0.2em;'><?= $course_type_val['ct_name']; ?> Rm</th>    <?php } ?>                 <th class="complex" style='padding: 0.2em;'>Total Cr. Point</th>                 <th class="complex" style='padding: 0.2em;'>Total Cr.</th>                <th class="complex" style='padding: 0.2em;'>SGPA</th>                <th class="complex" style='padding: 0.2em;'>Current Semester</th>                <th class="complex" style='padding: 0.2em;'>Final Remarks</th>                <th class="complex" style='padding: 0.2em;'>Fail in</th>                <!--<th class="complex" style='padding: 0.2em;' data-id="no_print">Download</th>-->                <!--<th class="complex" style='padding: 0.2em;' data-id="no_print">View</th>-->                </tr> <?php //==========[END Printing upper components]====================// ?>  <!-----------------------------------------------------------**************************---------------------------------------------------------------------------->                <tr>                    <?php                    //========================[Getting all the course and ge_id for the weightage]============================//                    $newData = $EvaluationComponents_model->getAllComponentsonTerms1($item_result[$i]['academic_year_id'], $item_result[$i]['term_id'], 0);                    $eval_items = new Application_Model_EvaluationComponentsItems();                    $getNewWeightage = $ct_arr = $getWeightage = array();                    //==================[Fettering Weightage according to their courses_id]=============================================]=======//                    foreach ($newData as $Studkey => $newVal) {                        $getWeightage[$newVal['ct_id']][$newVal['course_id']][$newVal['component_id']] = $newVal['weightage'];                    }                                                            //===========================[Start printing the lower head with weightage]==============================================//                    foreach ($course_type_result as $course_type_key => $course_type_val) {                        $component_arr = array();                        $item_result[$i]['course_id'] = $course_type_val['course_id'];                        //===============[Filtering according to their component id]======================//                        foreach ($getWeightage[$course_type_val['ct_id']] as $Studkey => $newVal) {                            Ksort($newVal);                            foreach ($newVal as $component_id => $weightage_val) {                                $getNewWeightage[$course_type_val['ct_id']][$component_id][] = $weightage_val;                            }                        }                                                $result = $getNewWeightage[$course_type_val['ct_id']];                        ?>                        <?php if ($weightage == 0) { ?>                            <!--<th style="display:none;" class="no_print">Weightage</th>-->                            <?php $weightage++;                        } ?>                        <?php $arr_check = array(); ?>                        <?php                        /*                         * this loop making single head uniqe if duplicates                          * marks and print the weightage                         *                          *                          */                                                foreach ($result as $k => $val) {                            if(!empty($k)){                            $val1 = $val;                            $val = array_unique($val);                             $fm = $pm = array();                            ?>                            <th><?php                            foreach($val as $index => $fullMks ){                                  if($fullMks==250)                                    $passpercent = 50;                               else if($fullMks==25)                                   $passpercent = 50;                               $fm[] = $fullMks;                                                               $passmarks = ((int)$passpercent/100)*(int)$fullMks;                                $pm[] = $passmarks;                                $val[$index] = $fullMks."<br/>($passmarks)";                            }?>                              <div style="display:table;">                                  <p >FM&nbsp;(<?=implode('/', $fm);?>)</p>                                  <hr/>                                  <p >PM&nbsp;(<?=implode('/ ', $pm);?>)</p>                              </div>                               <?php                                 $new_arr = $val1;                                foreach ($new_arr as $weightage_key => $to_val) {                                    $tot_arr[$course_type_val['ct_id']][$weightage_key] += $to_val;                                }                                ?></th>                            <th></th>                            <?php                            }                        }                        $total_sub_mks = array_unique($tot_arr[$course_type_val['ct_id']]);                        ?>                        <th><div style="display:table;">                            <p >FM&nbsp;(<?= implode('/', $total_sub_mks); ?>)</p>                            <hr/>                            <p >PM&nbsp;(<?=$passpercent;?>)</p>                        </div></th>                        <th ></th>                        <th ></th>                        <th ></th>                        <th >(Credit x Grade Point)</th>                        <th></th>    <?php } ?>      <th></th>                    <th></th>                    <th>(Total Cr. Point / Total Cr.)</th>                    <th></th>                    <th></th>                    <th></th>                </tr>  <!-----------------------[End printing head]--------------------------------------------------------------------------------------------------->                </thead>              <tbody>                                         <?php                    // print_r($dept_desc);die();                    $m = 1;                     $inc=$inde = 0;                    $corce = array();                    $allprom = false;                //===============[Degree_id & cmn terms]==========================//                           if(!empty($acad)){                        $d_id = $acd_details->getRecord($acad)['department'];                        $degree_id= $deg_details->getRecord($d_id)['degree_id'];                        $totalCourse =  count($course_type_result);                    $total_count = count($studentMarksDetails);                    $tbl_id=$this->id?$this->id['tabl_id']:0;                    $publishedStudent = $gradeReportModel->getPublishedStudent($item_result[0]['academic_year_id'], $item_result[0]['term_id'],$tbl_id);                    if($details[0]['semester_paper_count'] && $details[0]['seperate_status']==1){                        $cmn_terms = explode(',',$details[0]['cmn_terms']);                        $resultfailstudent  = $gradeItems->getStudentFailDetailsAllwithouttab($session,$d_id,"('".implode("','",$cmn_terms)."')",$details[0]['semester_paper_count'],'',true);                        $PromotedStudent = array_column($resultfailstudent,'student_id');                    }                    else if($details[0]['sep_count'] && $details[0]['seperate_status']==0){                        $cmn_terms = explode(',',$details[0]['sep_terms']);                        $pass_paper = explode(',',$details[0]['sep_count']);                         $resulttemp=$temp = array();                        foreach($cmn_terms as $termskey => $termval){                            $resultfailstudent  = $gradeItems->getStudentFailDetailsAllwithouttab($session,$d_id,"('".$termval."')",  $pass_paper[$termskey],'',true);                            $resultfailstudent = array_column($resultfailstudent,'student_id');                            if(!count($temp) && $termskey==0)                            $temp = $resultfailstudent;                                                    if(count($temp))                           $temp = array_intersect($temp,$resultfailstudent);                            }                        $PromotedStudent = $temp;                    }                    else                    $allprom = true;                    $publishedStudentsId = array_column($publishedStudent,'student_id');                     //echo "<pre>";print_r($studentMarksDetails);exit;                    while($inc<$total_count){                         $stu_data = $studentMarksDetails[$inc];                                            ?>                                        <tr >                             <td><?=$m;?></td>                                                                         <td><?=$stu_data['stu_fname'];?>/<br/>                                                <?=$stu_data['stu_id'];?>                                            </td>                                            <td><?=$stu_data['stu_dob'];?></td>                                            <td><?=$stu_data['exam_roll'];?></td>                                            <td><?=$stu_data['reg_no'];?></td>                                            <input type='text' style="display:none;" name='stu_ids[]' value="<?=$studentMarksDetails[$inc]['student_id'];?>" />                                            <input type="text" name="saved_id" style="display:none;" value="<?=$tbl_id;?>"/>                                            <input type="text" style="display:none;" name="studSaveId[<?= $studentMarksDetails[$inc]['student_id'];?>]" value="<?=in_array($studentMarksDetails[$inc]['student_id'],$publishedStudentsId)?1:0;?>" />                        <?php for ($i = 0; $i < count($item_result); $i++) {                             $termTotalMarks = 0;                            $termCreditPointTotal = 0;                            $termCreditTotal = 0;                            $termCredit = 0;                            $emptyCells = false;                            $core_course = $Corecourselearning_model->studentCorecourse($item_result[$i]['academic_year_id'], $item_result[$i]['term_id']);                            $stu_ge = $Corecourselearning_model->studentGe($stu_data['stu_id'],$item_result[$i]['term_id']);                             //===sorting course of students===//                                                                                    $course_type_result =  array_merge($core_course,$stu_ge);                                                        usort($course_type_result, 'sortByOrder');                            $termWiseRemarks= 'P';                            $termStyle = "";                          $fail_in = $fail_ct_id = array();                          $pass_in_ct_id=array();                          $gp = $fcourse_ids = array();                          $fcourse_name = array();                          $appercoursecount=0;                   //     echo "<pre>";print_r($course_type_result);exit;                                foreach($course_type_result as $courseIndexKey=>$courseData){                                    $failRemarksCourseWise = array();                                    $courseWiseRemarks = 'P';                                    $courseStyle = "";                                    if($courseData['course_id']==$studentMarksDetails[$inc]['course_id']) {                                                                                $course_components = $evalItems->getRecordsByCourse($courseData['course_id']);                                        $weightage = array_column($course_components,'weightage');                                                                                if($this->archive==1 && !empty($this->prev)){                                            $archive_data = $gradeItems->getArchivedData($item_result[$i]['academic_year_id'], $item_result[$i]['term_id'], $studentMarksDetails[$inc]['student_id'],$courseData['course_id'],$this->prev);                                              $studentMarksDetails[$inc]=  is_array($archive_data)?$archive_data:$studentMarksDetails[$inc];                                        }                                                                                    $creditPoint = $studentMarksDetails[$inc]['count_id']==0? $studentMarksDetails[$inc]['credit_value']*$studentMarksDetails[$inc]['number_grade']:0;                                        $termTotalMarks+=$studentMarksDetails[$inc]['count_id']==0?$studentMarksDetails[$inc]['obtained_marks']:0;                                        $termCreditPointTotal+=$studentMarksDetails[$inc]['count_id']==0?$creditPoint:0;                                        $termCreditTotal+=$studentMarksDetails[$inc]['count_id']==0?$studentMarksDetails[$inc]['credit_value']:0;                                        $numberValue = explode(',',$studentMarksDetails[$inc]['number_value']);                                        $gradeValue = explode(',',$studentMarksDetails[$inc]['grade_value']);                                                                                                                       //=====================[Checking and setting gradesd]==============//                                    //   if(!in_array($gradeValue[0],array('NA','Ab'))                                    //   && !in_array($gradeValue[1],array('NA','Ab'))                                    //     && !in_array($gradeValue[2],array('NA','Ab'))){                                    //      $failRemarksCourseWise[] = $gradeValue[0] = in_array($gradeValue[0],array('F','D'))?'F':'P';                                    //      $failRemarksCourseWise[] = $gradeValue[1] = in_array($gradeValue[1],array('F','D'))?'F':'P';                                    //      $failRemarksCourseWise[] = $gradeValue[2] = in_array($gradeValue[2],array('F','D'))?'F':'P';                                    //      $appercoursecount++;                                    //   }                                                                              if((!in_array($gradeValue[1],array('NA','Ab')) && !empty($gradeValue[1]))                                         || (!in_array($gradeValue[2],array('NA','Ab')) && !empty($gradeValue[2]))){                                                                          $failRemarksCourseWise[] = $gradeValue[0] = in_array($gradeValue[0],array('NA','Ab','F','D'))?$gradeValue[0]:'P';                                         $failRemarksCourseWise[] = $gradeValue[1] = in_array($gradeValue[1],array('NA','Ab','F','D'))?$gradeValue[1]:'P';                                         $failRemarksCourseWise[] = $gradeValue[2] = in_array($gradeValue[2],array('NA','Ab','F','D'))?$gradeValue[2]:'P';                                         $appercoursecount++;                                       }                                       else                                       {                                         $failRemarksCourseWise[] = $gradeValue[0] = in_array($gradeValue[0],array('NA','Ab'))?$gradeValue[0]:'P';                                         $failRemarksCourseWise[] = $gradeValue[1] = in_array($gradeValue[1],array('NA','Ab'))?$gradeValue[1]:'P';                                         $failRemarksCourseWise[] = $gradeValue[2] = in_array($gradeValue[2],array('NA','Ab'))?$gradeValue[2]:'P';                                                                                }                                                                              if(!in_array($gradeValue[0],array('NA','Ab'))){                                           $failRemarksCourseWise[] = $gradeValue[0] = in_array($gradeValue[0],array('NA','Ab','F','D'))?$gradeValue[0]:'P';                                         $failRemarksCourseWise[] = $gradeValue[1] = in_array($gradeValue[1],array('NA','Ab','F','D'))?$gradeValue[1]:'P';                                         $failRemarksCourseWise[] = $gradeValue[2] = in_array($gradeValue[2],array('NA','Ab','F','D'))?$gradeValue[2]:'P';                                       }                                                                              //============================[setting styles and inputs]                                        if(in_array('D',$failRemarksCourseWise) || in_array('F',$failRemarksCourseWise)  || in_array('NA',$failRemarksCourseWise) || in_array('Ab',$failRemarksCourseWise)){                                            $courseWiseRemarks = 'F';                                            $termWiseRemarks = 'F';                                            $courseStyle = 'style="color:red;"';                                            $termStyle = 'style="color:red"';                                             $fail_in[] = $studentMarksDetails[$inc]['ct_name'];                                            $fail_ct_id[] = $studentMarksDetails[$inc]['ct_id'];                                            $fcourse_ids[] =   $studentMarksDetails[$inc]['course_id'];                                            $fcourse_name[] = $studentMarksDetails[$inc]['course_code'];                                        }                                        else if(in_array('P',$failRemarksCourseWise)){                                            $gp[] = $creditPoint;                                            $pass_in_ct_id[]=$studentMarksDetails[$inc]['ct_id'];                                        }                                                                        ?>                                            <input type='text' style="display:none;"  name="grade[student_id_<?=$studentMarksDetails[$inc]['student_id'].$item_result[$i]['academic_year_id']; ?>_<?php echo $item_result[$i]['term_id']; ?>_<?php echo $studentMarksDetails[$inc]['course_id']; ?>][]" id="student_id" value="<?php echo $studentMarksDetails[$inc]['student_id']; ?>" />                                            <input type='text' style="display:none;"  name="number_value[]" value="<?=$studentMarksDetails[$inc]['number_value'];?>" />                                              <input type='text' style="display:none;" name="course_ids[]" value ="<?=$studentMarksDetails[$inc]['course_id'];?>" />                                            <input type='text' style="display:none;"   name="grade[weightages_<?= $studentMarksDetails[$inc]['student_id'].$item_result[$i]['academic_year_id']; ?>_<?php echo $item_result[$i]['term_id']; ?>_<?php echo $studentMarksDetails[$inc]['course_id']; ?>][]" value="<?=implode(',',$weightage);?>" />                                            <input type='text' style="display:none;"   name="grade[grades_<?= $studentMarksDetails[$inc]['student_id'].$item_result[$i]['academic_year_id']; ?>_<?php echo $item_result[$i]['term_id']; ?>_<?php echo $studentMarksDetails[$inc]['course_id'] ?>][]" value="<?=$studentMarksDetails[$inc]['component_id']; ?>" />                                                                                                                                   <!---------------------[CIA]----------------------->                                            <td><?=$studentMarksDetails[$inc]['course_name']?>/<br/><?=$studentMarksDetails[$inc]['course_code'];?></td>                                             <td <?=in_array($gradeValue[0],array('F','D','NA','Ab'))?"style='color:Red;'":"";?>>                                                 <?=empty($numberValue[0]) && in_array($gradeValue[0],array('NA','Ab'))?$gradeValue[0]:$numberValue[0];?><?=in_array($gradeValue[0],array('F','D','NA','Ab'))?"*":"";?>                                                </td>                                             <td <?=in_array($gradeValue[0],array('F','D','NA','Ab'))?"style='color:Red;'":"";?> ><?=empty($numberValue[0])?'&mdash;':$gradeValue[0];?></td>                                             <!---------------------[ESE(T)]----------------------->                                             <td <?=in_array($gradeValue[1],array('F','D','NA','Ab'))?"style='color:Red;'":"";?>>                                                 <?=empty($numberValue[1]) && in_array($gradeValue[1],array('NA','Ab'))?$gradeValue[1]:$numberValue[1];?><?=in_array($gradeValue[1],array('F','D','NA','Ab'))?"*":"";?>                                            </td>                                             <td <?=in_array($gradeValue[1],array('F','D','NA','Ab'))?"style='color:Red;'":"";?>><?=empty($numberValue[1])?'&mdash;':$gradeValue[1];?></td>                                             <!---------------------[ESE(P)]----------------------->                                             <td <?=in_array($gradeValue[2],array('F','D','NA','Ab'))?"style='color:Red;'":"";?>>                                                 <?=empty($numberValue[2]) && in_array($gradeValue[2],array('NA','Ab'))?$gradeValue[2]:$numberValue[2];?><?=in_array($gradeValue[2],array('F','D','NA','Ab'))?"*":"";?>                                            </td>                                             <td <?=in_array($gradeValue[2],array('F','D','NA','Ab'))?"style='color:Red;'":"";?>><?=empty($numberValue[2])?'&mdash;':$gradeValue[2];?></td>                                                                                          <td <?=in_array($studentMarksDetails[$inc]['letter_grade'],array('F','D','NA','Ab'))?"style='color:Red;'":"";?>>                                                 <?=$studentMarksDetails[$inc]['obtained_marks'];?><?=in_array($studentMarksDetails[$inc]['letter_grade'],array('F','D','NA','Ab'))?"*":"";?>                                            </td>                                             <td><?=$studentMarksDetails[$inc]['credit_value'];?></td>                                             <td <?=in_array($studentMarksDetails[$inc]['letter_grade'],array('F','D','NA','Ab'))?"style='color:Red;'":"";?>><?=$studentMarksDetails[$inc]['letter_grade'];?></td>                                             <td><?=$studentMarksDetails[$inc]['number_grade'];?></td>                                             <td <?=$courseStyle;?> ><?=$creditPoint;?></td>                                            <td <?=$courseStyle;?> ><?=$courseWiseRemarks;?></td>                                                                                <?php                                              $inc = $studentMarksDetails[$inc]['obtained_marks']>0?$inc+1:$inc+2;                                            $emptyCells= true;                                                                             }                                } //=========[End course for each]                                                ?>                                     <?php   if(!$emptyCells){?>                                            <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                                             <td>&mdash;</td>                        <?php $inc++; }                     //===============[calculating sgpa]=========================//                                        $sgpa = number_format($termCreditPointTotal/$termCreditTotal,2);                    $sgpa = $termWiseRemarks=='F'?'&mdash;':$sgpa;                                       if((in_array($stu_data['student_id'],$PromotedStudent) && $details[0]['appeared_paper'] <=$appercoursecount) || ($allprom && $details[0]['appeared_paper'] <=$appercoursecount)){                                   $term_name = $term_details->getAcademicTermIdAction($item_result[$i]['academic_year_id'],$cmn_term);                                   $promotion = !empty($term_name)?"Promoted to $term_name Sem":"Pass";                                   if($promotion=="Pass" && $termWiseRemarks=='F'){                                     $promotion="--"  ;                                   }                                   else                                   $termWiseRemarks='P';                               }                           else {                               $termStyle = 'style="color:red"';                                    $termWiseRemarks ='F';                                    $promotion = "--";                                }                                                                                                                                   ?>                                        <td <?=$termStyle;?> ><?=$termCreditPointTotal;?></td>                    <td <?=$termStyle;?> ><?=$termCreditTotal;?></td>                    <td <?=$termStyle;?> ><?=$sgpa;?></td>                    <td <?=$termStyle;?> ><?=$promotion;?></td>                    <td <?=$termStyle;?> ><?=$termWiseRemarks;?></td>                    <td <?=$termStyle;?> ><?=implode(',',$fail_in)?></td>                                            <?php                         }//============[END TErms Loop] ?>                        <input type='text' style="display:none;"  name="fail_in[]" value="<?=implode(',',array_unique($fail_ct_id)) ;?>" />                        <input type='text' style="display:none;"  name="sgpa[]" value="<?php if($termWiseRemarks == 'F' ){echo '0';}else {echo $sgpa;} ?>" />                        <input type='text' style="display:none;"  name="gp[]" value="<?=implode(',', ($gp)) ;?>" />                        <input type='text' style="display:none;"  name="fcourse_ids[]" value="<?=implode(',', array_unique($fcourse_ids)) ;?>" />                        <input type='text' style="display:none;"  name="tot_credit_point[]" value="<?=$termCreditTotal;?>" />                        <input type='text' style="display:none;"  name="promotion[]" value="<?=$promotion;?>" />                        <input type='text' style="display:none;"  name="f_remark[]" value="<?=$termWiseRemarks;?>" />                        <input type='text' style="display:none;"  name="tot_grade_point[]" value="<?=$termCreditPointTotal;?>" />                                                <?php $m++;                                                }//=====[End Student For Earch]                                        ?>                    </tr>                    <?php            }//========[END IF statement]            ?>	                </tbody>                            </table>        </div>        </div>    </div>    <div id="addmore_items_<?php echo $i; ?>"></div>    <br>    <?php       }function selectData($array, $fieldname, $number = 0) {    try {        $filterd_value = array();        if (is_array($array) && is_array($fieldname)) {            for ($i = 0; $i < $number; $i++) {                foreach ($fieldname as $field_key => $field_value) {                    $filterd_value[$i][$field_value] = $array[$i][$field_value];                }            }            return $filterd_value;        } else {            throw new Exception('first and second param should be of type array !');        }    } catch (Exception $e) {        echo '<strong>Error Message !</strong>' . $e->getMessage();    }}function sortByOrder($a, $b) {                                return $a['sort_order'] - $b['sort_order'];                            }?><script>    $('<div class="row" id="moved-buttons" style="margin-top:1em; margin-right:.09em;"></div>').appendTo('#datatable-responsive_filter')    $('div[class="dt-buttons btn-group"]').appendTo('#moved-buttons');    setDatatables('<?=$batch_code;?>','<?=$dept_desc;?>','<?=$session_name;?>','<?=$examyear;?>','<?=$resultdate;?>','<?=$degree_id;?>');</script>