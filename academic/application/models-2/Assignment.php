<?phpclass Application_Model_Assignment extends Zend_Db_Table_Abstract {    public $_name = 'faculty_assignment';    protected $_id = 'assignment_id';    public function getRecord($id) {        $select = $this->_db->select()            ->from($this->_name)            ->where("$this->_name.$this->_id=?", $id);        //->where("$this->_name.status !=?", 2);        $result = $this->getAdapter()            ->fetchRow($select);        return $result;    }    public function getRecords() {        if ($_SESSION['admin_login']['admin_login']->empl_id) {            $select = $this->_db->select()                ->from($this->_name)                ->joinleft(array("term"=>"declared_terms"),"term.term_des=$this->_name.cmn_terms",array("term_name"))                ->joinleft(array("department"),"department.id=$this->_name.department",array("department"))                ->joinleft(array("course"=>"course_master"),"course.course_id=$this->_name.course_id",array("course_name"))                ->joinleft(array("course_cat"=>"course_category_master"),"course_cat.cc_id=$this->_name.cc_id",array("cc_name"))                ->where("$this->_name.empl_id =?", $_SESSION['admin_login']['admin_login']->empl_id);                //echo $select; die;            $result = $this->getAdapter()                ->fetchAll($select);            return $result;        } else {            $select = $this->_db->select()                ->from($this->_name);            //->where("$this->_name.status !=?", 2);            //   echo $select; die;            $result = $this->getAdapter()                ->fetchAll($select);            return $result;        }    }    public function getRecordsByCurrentBatchAndTerm($session, $term_id='',$status) {        $select = $this->_db->select()            ->from($this->_name);            $select->joinLeft(array("assignment" => "assignment_submitted"), "assignment.assignment_id=$this->_name.$this->_id");            $select->where("$this->_name.session= ?", $session);            if(!empty($term_id))            $select->where("$this->_name.cmn_terms = ?",$term_id );            $select->where("assignment.student_id = ?", $_SESSION['admin_login']['admin_login']->student_id);            if (!empty($status)){                $select->where("assignment.assignment_status =?",$status );            }else{                $select->where("assignment.assignment_status =?",0 );            }                         $select->where("$this->_name.status !=?", 2);         //echo $select; exit;        $result = $this->getAdapter()            ->fetchAll($select);        return $result;        /*  $select=$this->_db->select()          ->from($this->_name)          ->where('academic_year_id = ?',$batch_id)          ->where('term_id = ?', $term_id)          ->where("$this->_name.status !=?", 2);          $result=$this->getAdapter()          ->fetchAll($select);          return $result; */    }    public function getRecordsByCurrentBatchAndTerm1($batch_id, $term_id) {        //echo "<pre>";print_r($_SESSION);exit;        $select = $this->_db->select()            ->from($this->_name)            ->joinLeft(array("assignment" => "assignment_submitted"), "assignment.assignment_id=$this->_name.$this->_id")            ->where("$this->_name.academic_year_id= ?", $batch_id)            ->where("$this->_name.term_id = ?", $term_id)            ->where("assignment.student_id = ?", $_SESSION['admin_login']['admin_login']->student_id)            ->where("assignment.notification_status !=?", 1)            ->where("assignment.assignment_status !=?", 1)            ->where("$this->_name.status !=?", 2);        $result = $this->getAdapter()            ->fetchAll($select);        return $result;    }    public function getCourseName($course_id) {        $select = $this->_db->select()            ->from('course_master', array('course_code', 'course_name'))            ->where('course_id= ?', $course_id)            ->where("status !=?", 2);        //echo $select; die;        $result = $this->getAdapter()            ->fetchRow($select);        return $result;    }}