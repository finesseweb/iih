<style>
    @media print {
                    table td:nth-child(5)
                     {
                         display:none;
                     }
                     table th:nth-child(5)
                     {
                         display:none;
                     }
                      *{
                        visibility:hidden;
                     }
                     table,th,td 
                     {
                         visibility:visible;                    
                     } 
                     .title1
                     {
                        visibility:visible; 
                     }
                }
</style>
<div class="right_col">
    <?php if ($this->type) { ?>
        <div class="padding-md">
            <div class="row">
                <div class="col-md-12 " >
                    <h3 class="page-title txt-color-blueDark" >
                        <div><i class="fa fa-eye">Promotion Rules:</i></div>
                    </h3>
                    <div class="panel panel-default">
                        <form class="no-margin" id="formValidate1" action="<?php echo $this->form->getAction() ?>" method="post" data-validate="parsley" >

                            <div class="panel-body">
                                <div class="row">

                                    <div class="col-sm-4 employee_class">
                                        <div class="form-group" >
                                            <label  class="control-label" >From Semester
                                            <span class="asterisk">*</span></label>
                                            <?php echo $this->form->semester; ?>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label  class="control-label" >To Semester
                                            <span class="asterisk">*</span></label>
                                           <?php echo $this->form->nextSem; ?>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label  class="control-label" >Attendance(%)<span class="asterisk">*</span></label>
                                            <?php echo $this->form->attendance_count; ?>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label  class="control-label" >Passed in No. of papers
                                                <span class="asterisk">*</span></label>
                                            <?php echo $this->form->semester_paper_count; ?>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label  class="control-label" >Must appear in no. of papers
                                                <span class="asterisk">*</span></label>
                                            <?php echo $this->form->appeared_paper; ?>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label  class="control-label" >Appear in Components (paper)
                                                <span class="asterisk">*</span></label>
                                            <?php echo $this->form->component_paper; ?>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="panel-footer">									
                                    <div class="row">
                                        <div class="col-sm-7 col-sm-offset-5">
                                            <?php if ($this->type == 'add') { ?> 
                                                <div style="float:left;margin-right:2px;">
                                                    <button class="btn btn-primary submit">Submit</button>
                                                </div>
                                                <div style="float:left;padding:0px 10px;">
                                                    <button type="reset" class="btn btn-danger btn-default">Reset</button>
                                                </div>
                                            <?php } else { ?>
                                                <div style="float:left;">
                                                    <button class="btn btn-primary submit">Update</button>
                                                </div>
                                                <div style="float:left;">
                                                    <a class="btn btn-primary" href="<?php echo $this->mainconfig['host']; ?>scholar-structure/index/">Back</a>
                                                </div>
                                            <?php } ?>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div><!-- /panel -->
                </div><!-- /.col-->				
            </div><!-- /.row -->

        </div><!-- /.padding-md -->	
    <?php } else { ?>

        <?php
        if (count($this->messages)) {
            foreach ($this->messages as $message) {
                ?>
                <div class="alert alert-success ">
                    <a type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</a>
                    <?php echo $this->escape($message); ?>
                </div>
            <?php
            }
        }
        ?>
        <!-- widget grid -->
        <div class="">
            <div class="">
                <div class="row">

                    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                        <h3 class="page-title txt-color-blueDark">
                            <i class="fa fa-bars">Semester Rule Structure</i>

                        </h3>
                    </div>

                    <div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">	 

                        <a class="btn btn-primary pull-right" style="margin-top: 25px;" href="<?php echo $this->mainconfig['host']; ?>scholar-structure/index/type/add">Add </a>
                    </div>
                </div>

                <div class="x_panel">

                    <div class="x_title">
                        <h2 class="title1">Promotion Structure</h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <li class="dropdown">
                                <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                            </li>
                            <li><a class=""><i class="fa fa-close"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">

                        <div class="padding-md clearfix">
                            <div class="col-sm-0" style="float:right;">
                                   <!-- <a class="btn btn-primary" target="_blank" href="#<?php //echo $this->mainconfig['host']; ?>fee-structure/structure-pdf/id/<?php //echo $this->structure_id; ?>">Print</a>--><a class="btn btn-link" role="button" href="#" id="print"><span class='glyphicon glyphicon-print'></span></a></div>
                            <table class="table table-striped table-bordered mb30 jambo_table bulk_action" id="datatable-responsive">
                                <thead>
                                    <tr>
                                        <th style="text-align:center;">S. No.</th>	
                                        <th style="text-align:center;">Semester Code</th>
                                       
                                        <th style="text-align:center;">Attendance Count</th>
                                        <th style="text-align:center">Semester Paper Count</th>
                                        <th style="text-align:center">Must Appear In No. Of Papers </th>
                                        <th style="text-align:center">Component Paper</th>
                                        <th class="no_print" style="text-align:center">Edit | Delete</th>

                                    </tr>
                                </thead>
                                <tbody style="text-align:center;">
                                    <?php
                                    $i = 1;
                                    $pagination_tr = '';
                                    if (count($this->paginator) != 0) {

                                        foreach ($this->paginator as $results) {
                                            //print_r($results);die;
                                            ?>
                                            <tr>
                                                <td><?php
                                                    echo $i;

                                                    $i++;
                                                    ?>
                                                </td>	
                                                <td><?=$results['semester']; ?></td>
                                                <td><?php echo $results['attendance_count'];?></td>
                                                <td><?php echo $results['semester_paper_count']; ?></td>
                                                <td><?php echo $results['appeared_paper'];?></td>
                                                <td><?php echo $results['component_paper']; ?></td>
                                                <td><a href="<?php echo $this->mainconfig['host']; ?>scholar-structure/index/type/edit/id/<?php echo $results['id']; ?>" class="edit" title="Edit"><span class="fa fa-edit fa-lg"></span></a>&nbsp; | &nbsp;  <a href="<?php echo $this->mainconfig['host']; ?>scholar-structure/index/type/delete/id/<?php echo $results['id']; ?>" onclick="return ConfirmDelete();" title="Delete" class="delete"> <span class="fa fa-trash-o fa-lg"></span> </a></td>
                                            </tr>            
                                            <?php
                                        }
                                        $pagination_tr = $this->paginationControl($this->paginator, 'Sliding', 'pagination.phtml');
                                    }
                                    ?>
                                </tbody>
                            </table>
    <?php echo $pagination_tr; ?>
                        </div><!-- /.padding-md -->
                    </div><!-- /panel -->
                </div>
            </div>
        </div><!-- /.padding-md -->		
<?php } ?>
</div>
<script>

    $("#semesters option[value='Sem-6']").hide();
    function ConfirmDelete()
    {
        var x = confirm("Are you sure you want to delete?");
        if (x)
            return true;
        else
            return false;
    }


   //Developed by kedar to get next Semester 25 Sept. 2019
    $("#semesters").change(function () {
        var semester_id = $('#semesters>option:selected').index();
       
        $('#semesters>option').each(function (e) {
            
            if(semester_id == (e)){        
               $('#nextSem').empty();
               $('#nextSem').html("<option val='"+$(this).next().val()+"'>"+$(this).next().text()+"</option>");      
            }       
        });
    });
    //End
    
    $("#scholarship_fee_wavier").focusout(function(e){
       var x =  $("#scholarship_fee_wavier").val();
       var i = x.indexOf('%');
      
        if(parseInt(x.substr(0,i))>100){
            alert('your Value should not exceed 100%');
             $(".submit").css('display','none');
        }
        else
        {
            $(".submit").css('display','initial');
        }
    
    });
    


</script>
