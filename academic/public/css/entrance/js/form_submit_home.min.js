function validateEnquiryData(){var e=$.trim($("#fname_home").val()),t=$.trim($("#mname_home").val()),r=$.trim($("#lname_home").val()),o=$.trim($("#phone_home").val()),i=$.trim($("#email_home").val()),m=$.trim($("#state").val()),a=$.trim($("#citySelect").val()),n=$.trim($("#category1").val()),l=$.trim($("#category2").val()),s=$(".iti__selected-dial-code").text(),p=/^[0-9]{10}$/,c=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),d=$("#Agree:checkbox:checked").length;if(!e||!r)return e?$("#errortop").html("Enter applicant's last name."):$("#errortop").html("Enter applicant's first name."),!1;if(/[^a-zA-Z\-]/.test(e))return $("#errortop").html("Enter only alphabets in first name."),!1;if(/[^a-zA-Z\-]/.test(r))return $("#errortop").html("Enter only alphabets in last name."),!1;if(t&&/[^a-zA-Z\-]/.test(t))return $("#errortop").html("Enter only alphabets in middle name."),!1;if(!i)return $("#errortop").html("Enter your Email ID."),!1;if(!c.test(i))return $("#errortop").html("Enter valid Email ID."),!1;if("+91"==s||"91"==s||"091"==s){if(!o)return $("#errortop").html("Enter your mobile number."),!1;if(0==p.test(o))return $("#errortop").html("Enter 10 digit mobile number."),!1}else{if(0==(p=/^\d+$/).test(o))return $("#errortop").html("Entered mobile number is invalid."),!1;if(o.length<4||o.length>16)return $("#errortop").html("Entered mobile number is invalid."),!1}if("+91"==s){if(m=$.trim($("#state").val()),a=$.trim($("#citySelect").val()),!m)return $("#errortop").html("Enter your State."),!1;if(!a)return $("#errortop").html("Enter your City / District."),!1}else if(m="",!(a=$.trim($("#city").val())))return $("#errortop").html("Enter your City / District."),!1;return n?l?d?($("#errortop").text(""),!0):($("#errortop").html("Accept our T & C to proceed."),!1):($("#errortop").html("Select Specialization."),!1):($("#errortop").html("Select Program."),!1)}function startTimer(){var e=document.querySelector("#resend-otp-timer"),t=60,r=0,o=0,i=setInterval(function(){r=parseInt(t/60,10),o=parseInt(t%60,10),r=r<10?"0"+r:r,o=o<10?"0"+o:o,e.textContent=r+":"+o,--t<0&&(clearInterval(i),$("#get_otp_btn_home").removeAttr("disabled"),$("#get_otp_btn_home").removeClass("disabled"),$("#resend-otp-timer").hide(),$("#resend-otp-timer-text").hide())},1e3)}new Awesomplete('input[type="email"]',{list:["gmail.com","yahoo.com","hotmail.com","aol.com","msn.com","yahoo.co.in","live.com","rediffmail.com","ymail.com","outlook.com","yahoo.in","mail.com"],data:function(e,t){return t.slice(0,t.indexOf("@"))+"@"+e},filter:Awesomplete.FILTER_STARTSWITH,sort:!1}),$("#get_otp_btn_home").click(function(e){if(validateEnquiryData()){$("#resend-otp-timer-msg").text("Sending OTP...");var t=$.trim($("#fname_home").val()),r=$.trim($("#phone_home").val()),o=$.trim($("#email_home").val()),i=$(".iti__selected-dial-code").text(),m=$("#Agree:checkbox:checked").length;$("#get_otp_btn_home").addClass("disabled"),$.ajax({url:"enquiry/backend/sendotp.php",dataType:"json",data:{fname:t,email:o,pcode:i,number:r,agree:m},type:"POST",success:function(e){$("#errortop").text(""),"1"!=e.status?null!=e.errorMsg&&""!=e.errorMsg&&($("#resend-otp-timer-msg").text(""),$("#errortop").text(e.errorMsg),$("html, body").animate({scrollTop:$("#home").position().top},"slow")):(null!=e.msg&&""!=e.msg&&$("#resend-otp-timer-msg").text(e.msg),$("#get_otp_btn_home").text("Resend OTP"),$("#get_otp_btn_home").attr("disabled","disabled"),$("#get_otp_btn_home").addClass("disabled"),$("#resend-otp-timer").show(),$("#resend-otp-timer-text").show(),startTimer())}})}else $("html, body").animate({scrollTop:$("#home").position().top},"slow")}),$("#submit_btn_home").click(function(e){if(e.preventDefault(),validateEnquiryData()){var t=$.trim($("#fname_home").val()),r=$.trim($("#mname_home").val()),o=$.trim($("#lname_home").val()),i=$.trim($("#phone_home").val()),m=$.trim($("#email_home").val()),a=$(".iti__selected-dial-code").text(),n=$.trim($("#state").val());if("+91"==a||"91"==a||"091"==a)var l=$.trim($("#citySelect").val());else l=$.trim($("#city").val());var s=$.trim($("#category1").val()),p=$.trim($("#category2").val()),c=$.trim($("#otp").val()),d=$("#Agree:checkbox:checked").length;$.ajax({url:"enquiry/backend/submitenquiry.php",dataType:"json",data:{id:"main_form_home",fname:t,mname:r,lname:o,email:m,number:i,pcode:a,agree:d,state:n,city:l,otp:c,enquiry_program:s,enquiry_specialization:p,countrycode:$("#country_short_code").val(),utm_source:wpuEnqUtmSource,utm_medium:wpuEnqUtmMedium,utm_campaign:wpuEnqUtmCampaign},type:"POST",success:function(e){$("#errortop").text(""),"1"==e.status?window.location.href="thankyou.html":null!=e.errorMsg&&""!=e.errorMsg&&($("#errortop").text(e.errorMsg),$("html, body").animate({scrollTop:$("#home").position().top},"slow"))}})}else $("html, body").animate({scrollTop:$("#home").position().top},"slow")}),$(function(){$(".enquiry-form-otp").keyup(function(e){4==$(".enquiry-form-otp").val().length?($("#submit_btn_home").removeAttr("disabled"),$("#submit_btn_home").removeClass("disabled")):($("#submit_btn_home").attr("disabled","disabled"),$("#submit_btn_home").addClass("disabled"))})});
